(self.webpackChunkma_piscine=self.webpackChunkma_piscine||[]).push([[65],{7065:(t,e,i)=>{"use strict";i.r(e),i.d(e,{MonitoringModule:()=>Rt});var r=i(1116),n=i(9935),a=i(8619),s=i(2143),o=i(9861),c=i(4720);const h=["*"],l=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class d{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new u(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class u{constructor(t,e){this.row=t,this.col=e}}const p=new a.OlP("MAT_GRID_LIST");let g=(()=>{class t{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round((0,o.su)(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round((0,o.su)(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(p,8))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&a.uIk("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:h,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,e){1&t&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},styles:[l],encapsulation:2,changeDetection:0}),t})();const m=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class f{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=x(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":b(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,n=(this._cols-1)/this._cols;this.setColStyles(t,i,r,n),this.setRowStyles(t,e,r,n)}setColStyles(t,e,i,r){let n=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(n,e)),t._setStyle("width",b(this.getTileSize(n,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class v extends f{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=x(this.fixedRowHeight),m.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",b(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",b(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class w extends f{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",b(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",b(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class y extends f{setRowStyles(t,e){let i=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(i,e)),t._setStyle("height",b(this.getTileSize(i,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function b(t){return`calc(${t})`}function x(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}let S=(()=>{class t{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round((0,o.su)(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${null==t?"":t}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=`${null==t?"":t}`;e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new y:t&&t.indexOf(":")>-1?new w(t):new v(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new d);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,i),e.forEach((e,i)=>{const r=t.positions[i];this._tileStyler.setStyle(e,r.row,r.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(c.Is,8))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mat-grid-list"]],contentQueries:function(t,e,i){if(1&t&&a.Suo(i,g,5),2&t){let t;a.iGM(t=a.CRH())&&(e._tiles=t)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&a.uIk("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[a._Bn([{provide:p,useExisting:t}])],ngContentSelectors:h,decls:2,vars:0,template:function(t,e){1&t&&(a.F$t(),a.TgZ(0,"div"),a.Hsn(1),a.qZA())},styles:[l],encapsulation:2,changeDetection:0}),t})(),_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[s.uc,s.BQ],s.uc,s.BQ]}),t})();var z=i(9996),E=i(8512);let T=(()=>{class t{constructor(){this.websocket=new WebSocket("ws://192.168.1.22/ws"),console.log("Trying to open a WebSocket connection..."),this.dataSubject$=new E.X({}),this.data$=this.dataSubject$.asObservable(),this.websocket.onopen=this.onOpen(),this.websocket.onclose=this.onClose,this.websocket.onmessage=this.onMessage()}onOpen(){return t=>{console.log("Connection opened -> ",t)}}onClose(t){console.log("Connection closed -> ",t)}onMessage(){return({data:t})=>{const[e,i,r]=t.split(";");this.dataSubject$.next({temperatureEntreeEau:e,temperatureSortieEau:i,temperatureAir:r})}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=i(6670);const O=["*",[["mat-card-footer"]]],k=["*","mat-card-footer"];let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),B=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(C.Qb,8))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:k,decls:2,vars:0,template:function(t,e){1&t&&(a.F$t(O),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[s.BQ],s.BQ]}),t})();function R(t,e,i,r){return new(i||(i=Promise))(function(n,a){function s(t){try{c(r.next(t))}catch(e){a(e)}}function o(t){try{c(r.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,o)}c((r=r.apply(t,e||[])).next())})}var A,I=[],H="ResizeObserver loop completed with undelivered notifications.";!function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(A||(A={}));var P,D=function(t){return Object.freeze(t)},$=function(t,e){this.inlineSize=t,this.blockSize=e,D(this)},F=function(){function t(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,D(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Z=function(t){return t instanceof SVGElement&&"getBBox"in t},N=function(t){if(Z(t)){var e=t.getBBox();return!e.width&&!e.height}return!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},G=function(t){var e,i;if(t instanceof Element)return!0;var r=null===(i=null===(e=t)||void 0===e?void 0:e.ownerDocument)||void 0===i?void 0:i.defaultView;return!!(r&&t instanceof r.Element)},j="undefined"!=typeof window?window:{},U=new WeakMap,V=/auto|scroll/,q=/^tb|vertical/,X=/msie|trident/i.test(j.navigator&&j.navigator.userAgent),J=function(t){return parseFloat(t||"0")},Q=function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!1),new $((i?e:t)||0,(i?t:e)||0)},Y=D({devicePixelContentBoxSize:Q(),borderBoxSize:Q(),contentBoxSize:Q(),contentRect:new F(0,0,0,0)}),W=function(t,e){if(void 0===e&&(e=!1),U.has(t)&&!e)return U.get(t);if(N(t))return U.set(t,Y),Y;var i=getComputedStyle(t),r=Z(t)&&t.ownerSVGElement&&t.getBBox(),n=!X&&"border-box"===i.boxSizing,a=q.test(i.writingMode||""),s=!r&&V.test(i.overflowY||""),o=!r&&V.test(i.overflowX||""),c=r?0:J(i.paddingTop),h=r?0:J(i.paddingRight),l=r?0:J(i.paddingBottom),d=r?0:J(i.paddingLeft),u=r?0:J(i.borderTopWidth),p=r?0:J(i.borderRightWidth),g=r?0:J(i.borderBottomWidth),m=d+h,f=c+l,v=(r?0:J(i.borderLeftWidth))+p,w=u+g,y=o?t.offsetHeight-w-t.clientHeight:0,b=s?t.offsetWidth-v-t.clientWidth:0,x=n?m+v:0,S=n?f+w:0,_=r?r.width:J(i.width)-x-b,z=r?r.height:J(i.height)-S-y,E=_+m+b+v,T=z+f+y+w,C=D({devicePixelContentBoxSize:Q(Math.round(_*devicePixelRatio),Math.round(z*devicePixelRatio),a),borderBoxSize:Q(E,T,a),contentBoxSize:Q(_,z,a),contentRect:new F(d,c,_,z)});return U.set(t,C),C},K=function(t,e,i){var r=W(t,i),n=r.borderBoxSize,a=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(e){case A.DEVICE_PIXEL_CONTENT_BOX:return s;case A.BORDER_BOX:return n;default:return a}},tt=function(t){var e=W(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=D([e.borderBoxSize]),this.contentBoxSize=D([e.contentBoxSize]),this.devicePixelContentBoxSize=D([e.devicePixelContentBoxSize])},et=function(t){if(N(t))return 1/0;for(var e=0,i=t.parentNode;i;)e+=1,i=i.parentNode;return e},it=function(){var t=1/0,e=[];I.forEach(function(i){if(0!==i.activeTargets.length){var r=[];i.activeTargets.forEach(function(e){var i=new tt(e.target),n=et(e.target);r.push(i),e.lastReportedSize=K(e.target,e.observedBox),n<t&&(t=n)}),e.push(function(){i.callback.call(i.observer,r,i.observer)}),i.activeTargets.splice(0,i.activeTargets.length)}});for(var i=0,r=e;i<r.length;i++)(0,r[i])();return t},rt=function(t){I.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(i){i.isActive()&&(et(i.target)>t?e.activeTargets.push(i):e.skippedTargets.push(i))})})},nt=[],at=0,st={attributes:!0,characterData:!0,childList:!0,subtree:!0},ot=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ct=function(t){return void 0===t&&(t=0),Date.now()+t},ht=!1,lt=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!ht){ht=!0;var i,r=ct(t);i=function(){var i=!1;try{i=function(){var t,e=0;for(rt(e);I.some(function(t){return t.activeTargets.length>0});)e=it(),rt(e);return I.some(function(t){return t.skippedTargets.length>0})&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:H}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=H),window.dispatchEvent(t)),e>0}()}finally{if(ht=!1,t=r-ct(),!at)return;i?e.run(1e3):t>0?e.run(t):e.start()}},function(t){if(!P){var e=0,r=document.createTextNode("");new MutationObserver(function(){return nt.splice(0).forEach(function(t){return t()})}).observe(r,{characterData:!0}),P=function(){r.textContent=""+(e?e--:e++)}}nt.push(function(){requestAnimationFrame(i)}),P()}()}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,st)};document.body?e():j.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ot.forEach(function(e){return j.addEventListener(e,t.listener,!0)}))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),ot.forEach(function(e){return j.removeEventListener(e,t.listener,!0)}),this.stopped=!0)},t}()),dt=function(t){!at&&t>0&&lt.start(),!(at+=t)&&lt.stop()},ut=function(){function t(t,e){this.target=t,this.observedBox=e||A.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=K(this.target,this.observedBox,!0);return Z(t=this.target)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),pt=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},gt=new WeakMap,mt=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i].target===e)return i;return-1},ft=function(){function t(){}return t.connect=function(t,e){var i=new pt(t,e);gt.set(t,i)},t.observe=function(t,e,i){var r=gt.get(t),n=0===r.observationTargets.length;mt(r.observationTargets,e)<0&&(n&&I.push(r),r.observationTargets.push(new ut(e,i&&i.box)),dt(1),lt.schedule())},t.unobserve=function(t,e){var i=gt.get(t),r=mt(i.observationTargets,e);r>=0&&(1===i.observationTargets.length&&I.splice(I.indexOf(i),1),i.observationTargets.splice(r,1),dt(-1))},t.disconnect=function(t){var e=this,i=gt.get(t);i.observationTargets.slice().forEach(function(i){return e.unobserve(t,i.target)}),i.activeTargets.splice(0,i.activeTargets.length)},t}(),vt=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ft.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!G(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ft.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!G(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ft.unobserve(this,t)},t.prototype.disconnect=function(){ft.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}(),wt=i(878),yt=i(653),bt=i(8318),xt=i(4689);class St{constructor(t){this.changes=t}static of(t){return new St(t)}notEmpty(t){if(this.changes[t]){const e=this.changes[t].currentValue;if(null!=e)return(0,wt.of)(e)}return yt.E}has(t){return this.changes[t]?(0,wt.of)(this.changes[t].currentValue):yt.E}notFirst(t){return this.changes[t]&&!this.changes[t].isFirstChange()?(0,wt.of)(this.changes[t].currentValue):yt.E}notFirstAndEmpty(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){const e=this.changes[t].currentValue;if(null!=e)return(0,wt.of)(e)}return yt.E}}const _t=new a.OlP("NGX_ECHARTS_CONFIG");let zt=(()=>{class t{constructor(t,e,i){this.el=e,this.ngZone=i,this.autoResize=!0,this.loadingType="default",this.chartInit=new a.vpe,this.optionsError=new a.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.echarts=t.echarts}ngOnChanges(t){const e=St.of(t);e.notFirstAndEmpty("options").subscribe(t=>this.onOptionsChange(t)),e.notFirstAndEmpty("merge").subscribe(t=>this.setOption(t)),e.has("loading").subscribe(t=>this.toggleLoading(!!t)),e.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){this.autoResize&&(this.resizeSub=new vt(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize())}),this.resizeSub.observe(this.el.nativeElement))}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&(this.resizeSub.unobserve(this.el.nativeElement),window.cancelAnimationFrame(this.animationFrameID)),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.ngZone.runOutsideAngular(()=>{this.chart.resize()})}toggleLoading(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(t,e){if(this.chart)try{this.chart.setOption(t,e)}catch(i){console.error(i),this.optionsError.emit(i)}}refreshChart(){return R(this,void 0,void 0,function*(){this.dispose(),yield this.initChart()})}createChart(){const t=this.el.nativeElement;if(window&&window.getComputedStyle){const e=window.getComputedStyle(t,null).getPropertyValue("height");e&&"0px"!==e||t.style.height&&"0px"!==t.style.height||(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:e})=>e(t,this.theme,this.initOpts)))}initChart(){return R(this,void 0,void 0,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(t){return R(this,void 0,void 0,function*(){t&&(this.chart||(this.chart=yield this.createChart(),this.chartInit.emit(this.chart)),this.setOption(this.options,!0))})}createLazyEvent(t){return this.chartInit.pipe((0,xt.w)(e=>new bt.y(i=>(e.on(t,t=>this.ngZone.run(()=>i.next(t))),()=>{this.chart&&(this.chart.isDisposed()||e.off(t))}))))}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(_t),a.Y36(a.SBq),a.Y36(a.R0b))},t.\u0275dir=a.lG2({type:t,selectors:[["echarts"],["","echarts",""]],inputs:{autoResize:"autoResize",loadingType:"loadingType",options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[a.TTD]}),t})(),Et=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:_t,useValue:e}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[]]}),t})();const Tt=["spawn"];function Ct(t,e){if(1&t&&a._UZ(0,"div",2),2&t){const t=a.oxw();a.Q6J("options",t.options)}}let Ot=(()=>{class t{constructor(t){this.dataService=t}ngOnInit(){this.options={series:[{type:"gauge",center:["50%","60%"],startAngle:180,endAngle:0,min:15,max:35,splitNumber:0,itemStyle:{color:"#91e9ff"},progress:{show:!1,width:10},pointer:{icon:"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z",length:"12%",width:8,offsetCenter:[0,"-70%"],itemStyle:{color:"auto"}},axisLine:{lineStyle:{width:10,color:[[.025,"#51eafa"],[.05,"#47e8f2"],[.075,"#3fe6ea"],[.1,"#38e3e2"],[.125,"#33e1d9"],[.15,"#31ded0"],[.175,"#31dbc7"],[.2,"#34d8bd"],[.225,"#39d6b3"],[.25,"#3fd2a8"],[.275,"#45cf9e"],[.3,"#4ccc94"],[.325,"#52c989"],[.35,"#59c57e"],[.375,"#60c174"],[.4,"#66be69"],[.425,"#6cba5e"],[.45,"#73b654"],[.475,"#79b149"],[.5,"#7ead3f"],[.525,"#84a934"],[.55,"#8aa42a"],[.575,"#8f9f1e"],[.6,"#949a10"],[.625,"#9a9500"],[.65,"#9f9000"],[.675,"#a48a00"],[.7,"#a98500"],[.725,"#ad7f00"],[.75,"#b27800"],[.775,"#b67200"],[.8,"#ba6b00"],[.825,"#be6300"],[.85,"#c25b00"],[.875,"#c65300"],[.9,"#c94a00"],[.925,"#cb4006"],[.95,"#ce3412"],[.975,"#d0261a"],[1,"#d11022"]]}},splitLine:{show:!1},axisLabel:{show:!1},anchor:{show:!1},title:{offsetCenter:[0,"-40%"],fontSize:15,value:"test"},detail:{valueAnimation:!0,width:"40%",lineHeight:5,height:15,borderRadius:8,offsetCenter:[0,"-15%"],fontSize:15,formatter:"{value} \xb0C",color:"auto"},data:[{value:0}],radius:"120%"}]},"temperatureAir"===this.temperature&&(this.options.series[0].data[0].name="Temp. air"),"temperatureEntreeEau"===this.temperature&&(this.options.series[0].data[0].name="Temp. eau entr\xe9e"),"temperatureSortieEau"===this.temperature&&(this.options.series[0].data[0].name="Temp. eau sortie"),this.dataService.data$.pipe((0,z.U)(t=>t&&t[this.temperature])).subscribe(t=>{console.log(t),this.options.series[0].data[0].value=t+0;const e=Object.assign({},this.options);e.series[0].data[0].value=t,this.options=e})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(T))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-capteur-temperature"]],viewQuery:function(t,e){if(1&t&&a.Gf(Tt,7,a.s_b),2&t){let t;a.iGM(t=a.CRH())&&(e.graphique=t.first)}},inputs:{temperature:"temperature"},decls:5,vars:4,consts:[[1,"capteur-temperature"],["echarts","","class","demo-chart",3,"options",4,"ngIf"],["echarts","",1,"demo-chart",3,"options"]],template:function(t,e){1&t&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"mat-card-content"),a._uU(2),a.qZA(),a.YNc(3,Ct,1,1,"div",1),a.ALo(4,"async"),a.qZA()),2&t&&(a.xp6(2),a.Oqu(e.temp),a.xp6(1),a.Q6J("ngIf",a.lcZ(4,2,e.dataService.data$)))},directives:[B,L,r.O5,zt],pipes:[r.Ov],styles:[".capteur-temperature[_ngcontent-%COMP%]   .demo-chart[_ngcontent-%COMP%]{height:160px;width:calc(100% - 16px)}"]}),t})();const kt=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-monitoring"]],decls:8,vars:3,consts:[[1,"monitoring"],["cols","1","rowHeight","2:1",1,"grille"],[3,"temperature"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-grid-list",1),a.TgZ(2,"mat-grid-tile"),a._UZ(3,"app-capteur-temperature",2),a.qZA(),a.TgZ(4,"mat-grid-tile"),a._UZ(5,"app-capteur-temperature",2),a.qZA(),a.TgZ(6,"mat-grid-tile"),a._UZ(7,"app-capteur-temperature",2),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(3),a.Q6J("temperature","temperatureEntreeEau"),a.xp6(2),a.Q6J("temperature","temperatureSortieEau"),a.xp6(2),a.Q6J("temperature","temperatureAir"))},directives:[S,g,Ot],styles:[".monitoring[_ngcontent-%COMP%]{height:100%}.monitoring[_ngcontent-%COMP%]   app-capteur-temperature[_ngcontent-%COMP%]{flex:1;height:100%}"]}),t})()}];let Lt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.ez,n.Bz.forChild(kt)],n.Bz]}),t})(),Bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[T],imports:[[r.ez]]}),t})();const Mt=[M,_];let Rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.ez,...Mt,Lt,Bt,Et.forRoot({echarts:()=>i.e(409).then(i.bind(i,9409))})]]}),t})()}}]);